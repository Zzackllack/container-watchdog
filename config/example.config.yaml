# This is an example configuration file for the Container Watchdog script.
# Map each URL to the container you want restarted on failure.

portainer:
  url: "https://your-portainer-url.com" # Your Portainer API endpoint
  api_key: "your_api_key_here" # Your Portainer API key
  endpoint_id: 1 # The ID of the Docker endpoint in Portainer

checks:
  # Map each URL to its container name
  mapping:
    "https://first-container.com": "first-container"
    "https://second-container.com": "second-container"
  # All HTTP status codes listed here will trigger a container restart
  error_status_codes:
    - 502
    - 503
    - 504
  # Timeout in seconds when waiting for each request
  timeout: 5

restart:
  # Behavior: "restart" = direct API restart, "stop_start" = stop → delay → start
  behavior: "stop_start"
  # Delay in seconds between stop and start (only for stop_start)
  delay: 10

interval:
  # Frequency of health checks in seconds
  seconds: 300
